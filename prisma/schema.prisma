generator client {
	provider = "prisma-client-js"
}

datasource db {
	provider = "mysql"
	url = env("DATABASE_URL")
}

model User {
	id String @id @default(cuid())
	username String @unique()
	password String
	email String @unique()
	createdAt DateTime @default(now())
	updatedAt DateTime? @updatedAt
	notes Note[] @relation("UserNote")
	folder Folder[] @relation("UserFolder")
}

model Folder {
	id String @id @default(cuid())
	userId String
	user User @relation("UserFolder", fields: [userId], references: [id])
	parentFolderId String?
	parentFolder Folder? @relation("FolderFolder", fields: [parentFolderId], references: [id])
	childFolders Folder[] @relation("FolderFolder")
	notes Note[] @relation("NoteFolder")
}

model Note {
	id String @id @default(cuid())
	folderId String?
	folder Folder? @relation("NoteFolder", fields: [folderId], references: [id])
	userId String
	user User @relation("UserNote", fields: [userId], references: [id])
}
